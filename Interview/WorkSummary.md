# 1. 工作总结

## 1. 做过的需求

### 1. 入职 - 2020.07 - 2020.09


### 2. 雪花项目 - 2020.10 - 2021.01

#### 1. 组件开发

1. 附件组件
   - 上传
   - 列表展示
   - 附件下载
   - 附件预览 - 图片、pdf

2. 分割线组件

3. 轮播图组件

4. 模态框组件

#### 2. 页面功能开发

1. 人事运营

### 3. 应用构建 - 2021.02 - 2021.12

#### 1. 生态产品

1. 新增、编辑弹窗

2. 展示页面 - 列表 / 卡片展示

3. 搜索框 - 模糊搜索

4. 页面自适应性

5. 状态展示 - 时间线

#### 2. 前端脚手架

1. 前端打包 - webpack 

2. BFF - Koa2 


## 2. 需求总结

### 1. 入职 - 2020.07 - 2020.09

1. 熟悉公司开发环境、工程项目结构

2. 熟悉工程的启动方式和调试方式

3. 前端 bug - 样式 / 功能

4. 前端需求

### 2. 雪花项目 - 2020.10 - 2021.01

1. 这是一个人力共享资源项目。开发模式是前后端分离。前端页面主要分为单据页面和列表页面，单据页面主要是以表单元素为主，方便用户录入各种信息。列表页面主要是以表格为主，展示单据的主要信息，同时提供对单据进行审批、驳回、下推等操作。

2. 生成页面
   - 配置元数据 - 数据库中需要存储以及前端需要展示字段
   - 根据配置的元数据，使用低代码平台生成基础的页面。
   - 根据需求对页面进行调整 - 采用拖拽组件的方式进行调整。

3. 页面功能开发
   - 人力共享相关单据，即开发了哪些单据页面

4. 相关组件的开发
   - 附件组件 - 包装原生的 input 元素 + ajax 上传
     - 上传文件
     - 限制上传文件类型 - accept / 真正限制上传的类型（不止检测文件的后缀）
     - 限制上传文件大小 - 上传文件的生命周期函数：beforeUpload
     - 上传进度 - 上传文件的生命周期函数：onProgress
     - 上传成功
     - 上传失败
   - 附件列表组件
     - 基本的文件信息 - 文件名 / 后缀 / 大小
     - 上传状态 - uploading / success / error
     - 文件预览 - 图片 / pdf
     - 文件下载
     - 其他信息
   - 模态框
     - ReactDOM.createPortal
     - 遮罩层的实现
     - 模态框固定在一个指定的位置
   - 轮播图组件
     - 鼠标进入，暂停轮播
     - 鼠标离开，开始轮播
     - 左右翻页
     - 小圆点指示轮播位置
     - 轮播速度

### 3. 应用构建 - 2021.02 - 2021.12

#### 1. 生态产品的开发 

1. 新增、编辑弹窗
   - 弹窗 + 表单组件
   - 正则校验

2. 展示页面 - 列表 / 卡片展示
   - 通过按钮进行切换
    
3. 搜索框 - 模糊搜索
   - 输入关键词，以列表的形式展示相关的应用名称
   - 防抖函数，限制请求次数，提升页面性能
   
4. 页面自适应性
   - flex 布局实现基本的布局效果
   - 根据页面的宽度，每一排展示不同数量的应用
   - 宽度小到一定程度，展示的应用数量不再发生变化

5. 状态展示 - 时间线
   - 时间线的形式展示应用所到达的状态
   - 已到达的状态高亮，未到达的状态置灰

6. 应用状态不同展示不同的按钮
   - 根据当前应用的状态展示不同的操作按钮
   - 未上线：编辑 / 删除 / 上线
   - 已上线未上架：编辑 / 上架 / 下线
   - 已上线已上架：所有按钮置灰，不可用
   
#### 2. 前端脚手架的日常维护

1. 前端部分 - webpack
   - 打包资源
   - 本地调试 webpack-devServer
   - 自定义扩展 - 扩展逻辑 / 扩展组件

2. BFF - Koa2
   - 转发请求
   - 统一处理后端的响应

## 3. 遇到的问题

1. async / await返回值

2. 模拟 hover 操作

3. 多层异步嵌套获取同步状态

4. setState 异步更新问题

5. 跨域通信问题 - postMessage

6. Koa 中间件执行顺序的问题

7. 浏览器自动请求最新的前端资源（不使用缓存）

8. 性能优化




